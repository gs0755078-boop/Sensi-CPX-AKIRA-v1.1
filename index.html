<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CPX AKIRA | SENSI V1.1</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0; padding: 0; min-height: 100vh;
      display: flex; align-items: center; justify-content: center;
      background: url('https://files.catbox.moe/kix2v8.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Inter', sans-serif;
      position: relative;
    }
    body::before {
      content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.65); z-index: 0;
    }
    .glass-box {
      position: relative; z-index: 10;
      background: rgba(43, 37, 60, 0.92);
      border-radius: 26px; width: 95%; max-width: 520px;
      padding: 26px; border: 1px solid rgba(148,163,184,0.3);
      box-shadow: 0 25px 70px rgba(0,0,0,0.9);
      backdrop-filter: blur(15px);
    }
    .font-cyber { font-family: 'Orbitron', sans-serif; }
    .input-akira {
      background: #05020b; border-radius: 16px; border: 1px solid rgba(15,23,42,0.9);
      color: #e5e7eb; padding: 12px; width: 100%; text-align: center;
      font-size: 11px; text-transform: uppercase;
    }
    .btn-primary {
      background: linear-gradient(135deg, #a855f7, #4c1d95);
      color: #f9fafb; font-weight: 800; border-radius: 22px;
      text-transform: uppercase; box-shadow: 0 10px 30px rgba(168,85,247,0.4);
    }
    .card-res { background: rgba(5,2,11,0.8); border-radius: 16px; border: 1px solid rgba(168,85,247,0.2); }
    .label-mini { font-size: 8px; color: #9ca3af; text-transform: uppercase; }
  </style>
</head>
<body>
  <div class="glass-box">
    <h1 class="font-cyber text-center text-white text-xl mb-6 uppercase tracking-[0.4em]">
      CPX <span class="text-purple-400">AKIRA V1.1</span>
    </h1>

    <div id="login-screen" class="text-center">
      <input type="text" id="key-input" placeholder="SUA KEY AQUI" class="input-akira mb-4 uppercase">
      <button onclick="autenticar()" class="w-full btn-primary py-4 text-[10px]">Entrar no Sistema</button>
    </div>

    <div id="main-panel" class="hidden space-y-3">
      <select id="brand" onchange="updateModels()" class="input-akira text-[10px]">
        <option value="">SELECIONE A MARCA</option>
        <option value="APPLE">APPLE</option>
        <option value="SAMSUNG">SAMSUNG</option>
        <option value="MOTOROLA">MOTOROLA</option>
        <option value="XIAOMI">XIAOMI</option>
      </select>
      <select id="model" class="input-akira text-[10px]"><option value="">MODELO</option></select>
      <select id="nivel" class="input-akira text-[10px]">
        <option value="">NÍVEL DE SENSI</option>
        <option value="BAIXA">BAIXA</option>
        <option value="MEDIA">MÉDIA</option>
        <option value="ALTA">ALTA</option>
      </select>
      <button onclick="gerarSensi()" class="w-full btn-primary py-4 text-[10px]">Gerar Configuração</button>
      <div id="results" class="hidden grid grid-cols-2 gap-2 pt-4"></div>
    </div>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyADWH-HdJUFByEuHBdHZkf7mDSD1-dBnRA",
      authDomain: "cpx-akira.firebaseapp.com",
      databaseURL: "https://cpx-akira-default-rtdb.firebaseio.com",
      projectId: "cpx-akira",
      storageBucket: "cpx-akira.firebasestorage.app",
      messagingSenderId: "126066483108",
      appId: "1:126066483108:web:ecbc2bb38a8e3e8575eb31"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function autenticar() {
      const key = document.getElementById('key-input').value.trim();
      db.ref('chaves/' + key).once('value').then(snap => {
        if (snap.exists() && (!snap.val().validade || Date.now() < snap.val().validade)) {
          document.getElementById('login-screen').classList.add('hidden');
          document.getElementById('main-panel').classList.remove('hidden');
        } else { alert("KEY INVÁLIDA OU EXPIRADA!"); }
      });
    }

    const devices = { APPLE: ["iPhone X/XR","iPhone 11/12","iPhone 13/14/15"], SAMSUNG: ["Linha A","Linha S","Linha M"], MOTOROLA: ["Linha G","Linha Edge"], XIAOMI: ["Redmi Note","Poco Series"] };
    function updateModels() {
      const b = document.getElementById('brand').value;
      const m = document.getElementById('model');
      m.innerHTML = '<option value="">MODELO</option>';
      if (b) devices[b].forEach(i => m.innerHTML += `<option value="${i}">${i}</option>`);
    }

    async function gerarSensi() {
      const b = document.getElementById('brand').value;
      const m = document.getElementById('model').value;
      const n = document.getElementById('nivel').value;
      if (!b || !m || !n) return alert("Selecione tudo!");

      db.ref(`presets/${b}/${m}/${n}`).once('value').then(snap => {
        if (!snap.exists()) return alert("Preset não encontrado no banco!");
        const data = snap.val();
        const res = document.getElementById('results');
        res.classList.remove('hidden'); res.innerHTML = "";
        ['GERAL','RED','X2','X4','DPI','BOTAO'].forEach(k => {
          res.innerHTML += `<div class="card-res p-3 text-center"><p class="label-mini">${k}</p><p class="text-white font-cyber text-lg">${data[k] || 0}</p></div>`;
        });
      });
    }
  </script>
</body>
</html>
